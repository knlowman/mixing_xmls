<?xml version="1.0"?>
<!--
GFDL FAIR USE POLICY

GFDL recognizes the essential nature of collaboration in the scientific
enterprise, including the importance of novel application and analysis of our
models. In order to maximize mutual benefit from collaboration, the use of
experimental GFDL models** should be done in a manner that ensures that
individuals involved in model development receive proper credit for their
work; in order to minimize the potential for misapplication of experimental
models, collaborations should actively engage model developers. Publication of
results using experimental GFDL models should be done in consultation with
scientists that participated in the model development. Consultation with GFDL
model developers should occur before submission of publications based on
experimental GFDL models, and should include agreement on the appropriate level
of acknowledgment, co-authorship and participation by the model developers.
Since experimental models have not been thoroughly vetted, experimental GFDL
models and their output should be distributed only after consultation with the
developers of the model. After a GFDL model has been described in a
peer-reviewed publication it is no longer experimental, and results based on
the model should cite the publication(s) describing the model.
 
** "Experimental GFDL models" refers to models (e.g., a coupled climate model),
model components (e.g., parameterization schemes), model configurations (e.g.,
the specific arrangement and parameter settings of model components) arising
from model development efforts at GFDL, but whose formulation and configuration
have not yet been documented in the peer-reviewed literature, as well as outputs
from integrations with these models.
-->

<!-- GFDL Model Development Team (MDT) documentation: http://wiki.gfdl.noaa.gov/index.php/MDT_Coupled -->
<!-- GFDL MDT Atmosphere Working Group (AWG) documentation: http://cobweb.gfdl.noaa.gov/~cjg/awg/ -->

<!-- QUICK START GUIDE:

# Change the occcurances of YOURGROUPLETTER in this file to your group letter (small), such as f, w, o, g+,...

# To check out codes and compile:
cd XML_DIR
module load fre/bronx-22
fremake -x AM2_LM3_MOM6_1deg.xml -t prod-openmp -p ncrc5.intel23 am2_mom6_sis2_compile

# To list avaliable experiments in this xml

frelist -x XML_NAME

# To run a basic test for one of these experiments : 

frerun -r basic -x XML_NAME -p ncrc4.intel18 -t prod-openmp EXP_NAME

# To run a complete coupled experiment (with automated database entry if MDBIswitch in "on"):

frerun -x XML_NAME -p ncrc4.intel18 -t prod-openmp EXP_NAME

# To check what is the input data of this experiment:
inputfiles -x XML_NAME -p ncrc4.intel18 EXP_NAME

NOTES:
      If the experiment name + FRESTEM is too long the post-process initiated on gaea may fail.
      This is because, there is a small limit set by moab on the number of total characters for
      ppEnv environment variable which  is roughly the sum of the strings made by
      1. the refine diag list
      2. the contents of the <csh> section of the gfdl platform
      
-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2003/XInclude">

  <!--User should set the following properties according to the plan for the production run-->	    
  <property name="CITY_TAG"           value="warsaw"/>       <!-- city tag added by Kiera for compiling with AM2-->
  <property name="RELEASE"           value="2019.01.03"/>    <!-- git tag for general component source code-->
  <property name="FMS_GIT_TAG"       value="$(RELEASE)"/>    <!-- git tag for shared source code -->
  <property name="COUPLER_GIT_TAG"   value="xanadu"/>       <!-- git tag for AWG source code -->
  <property name="ATM_FV3_GIT_TAG"   value="2020.02"/>       <!-- git tag for atmos_cubed_sphere and atmos_driver source code -->
  <property name="ATM_DRV_GIT_TAG"   value="2020.01"/>       <!-- git tag for atmos_cubed_sphere and atmos_driver source code -->
  <property name="ICE_PARAM_GIT_TAG" value="xanadu"/>        <!-- git tag for atmos_shared and atmos_param source code - edited by Kiera -->
  <!--property name="ICE_PARAM_GIT_TAG" value="2be67d1a7d54be5da2f"/-->        <!-- git tag for atmos_shared and atmos_param source code - edited by Kiera -->
  <property name="ATM_PHYS_GIT_TAG"  value="8a30ff9a"/>      <!-- gitlab tag for atmos_phys source code -->  
  <property name="LAND_GIT_TAG"      value="verona_201701"/> <!-- git tag for LAND_LAD2 source code - edited by Kiera -->  
  <property name="OCEAN_BGC_GIT_TAG" value="8dda39f"/>       <!-- git tag for ocean_BGC component -->
  <property name="MOM6_DATE"         value="devgfdl_20201120"/> <!-- arbitrary date string for MOM6 source code -->
  <property name="MOM6_GIT_TAG"      value="dea81c82"/>      <!-- git tag for MOM6 source code -->
  <property name="MOM6_GIT_FIX"      value=""/>       <!-- git tag for MOM6 source code -->
  <property name="FRE_STEM"  value="FMS$(RELEASE)_$(MOM6_DATE)_kiera"/>     <!-- customize as needed -->
  <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
  <property name="GFDL_GROUP"   value="gfdl_o"/>    <!-- Replace YOURGROUPLETTER with GFDL group letter -->
  <property name="BUILD_DATE"     value=""/>          <!-- name for source/exec directory -->

	      <!-- <property name="OM4_ANALYSIS" value="ice_ocean_SIS2/OM4_025"/>commented out by Kiera--> <!-- example containing .frepp scripts for analysis-->
                                                                 <!--Please set the value to ice_ocean_SIS2/OM4_05 for 1/2 degree ocean model runs--> 
  <property name="PROD_SIMTIME"     value="200"/>  <!--simulation length in YEARS-->
  <property name="PP_CMIP_CHUNK_A"  value="5yr"/>  <!--smaller chunk length for pp/analysis-->
  <property name="PP_CMIP_CHUNK_B"  value="25yr"/> <!--bigger  chunk length for pp/analysis-->
  <property name="CHUNK_LENGTH_A"   value="5yr"/>
  <property name="CHUNK_LENGTH_B"   value="25yr"/>
  <property name="PP_START_YEAR"    value="0001" />
  <property name="PP_CPLD_START"    value="0001" />
  <property name="PROD_RUNTIME"     value="16:00:00"/><!--Maximum wall clock per simulation-->
  <property name="PROD_SEGTIME"     value="1:30:00"/><!--Wall clock per segment (usually 1 year)-->

  <!--The following properties need to be set only if the user wants to monitor the run progress at MDBI
      and are not needed for the run or post-processing -->   
  <property name="EXP_CPLD_START"   value="0001"/> <!--simulation start year--> 
  <property name="EXP_CPLD_END"     value="0050"/> <!--simulation end   year--> 
  
  <!--The rest of the properties need not to be changed by the user unless to customize the run-->
  <property name="FRE_VERSION"     value="bronx-22"/> <!-- fre version to be used -->
  <property name="ProjectID"       value="MDT"/>      <!-- database top level -->
  <property name="ANALYSIS_SWITCH" value="on"/>       <!-- on/off switch for ATM/LND analysis -->
  <property name="TS_ANALYSIS_SWITCH" value="off"/>   <!-- on/off switch for ATM/LND time series analysis -->
  <property name="ANALYSIS_SWITCH_CMIP" value="on"/>  <!-- on/off switch for ATM/LND analysis -->
  <property name="MDBIswitch"      value="off"/>       <!-- on/off switch for MDBI database -->
  <property name="CVDP_startyear" value="0001"/>  <!-- Property to allow users to configure CVDP to skip n-years of spinup -->

  <!-- Reference release tag for existing files in the archives for answer comparison. Used in "REFERENCE" property. -->
  <property name="reference_tag"   value="xanadu_esm4_20190304_mom6_devgfdl_20200330"/>

  <property name="DEBUGLEVEL" value=""/>
  <property name="PLATINFO"   value=""/>  <!--This is necessary only if you want to run exact same experiment on multiple platforms-->
                                          <!--In that case you will need to put an identifier string for the value to distinguish the /nbhome-->

  <!--========================================-->
  <!--Do not change the rest of the properties-->
  <!--========================================-->

  <property name="AWG_INPUT_HOME_GAEA"  value="awg_include"/>
  <property name="AWG_INPUT_HOME_NESCC" value="awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)/mdt_xml/awg_include"/>
  <property name="CMIP6_PP_FIXER_SCRIPTS_DIR" value="/home/oar.gfdl.cmip6/CMIP6_publishing/pp_fixer_scripts"/>
  <property name="CMIP6_PP_FIXER_SWITCH" value="on"/>
  <property name="SRC_EXEC_ROOT" value="$HOME"/> <!-- top-level location to checkout source code and build executable -->

  <property name="append_to_setup_csh"  value=""/><!--The start year of JRA forcing dataset-->
  <setup>
    <!--    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='ncrc6.intel23'])"/> -->
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='ncrc5.intel23'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='ncrc4.intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.ncrc4-intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='orion.intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.orion-intel18'])"/>
    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.ncrc5-intel23'])"/>
    <!--    <xi:include href="awg_include/xml_building_blocks/platforms.xml" xpointer="xpointer(//freInclude/platform[@name='gfdl.ncrc6-intel23'])"/>-->
  </setup>
  <property name="MING_HIRES_DIR"  value="$(CMIP6_ARCHIVE_ROOT)/../../gfdl_W/Ming.Zhao/hiresmip"/>
  <property name="gfdlO_pdata"     value="/gpfs/f5/gfdl_o/world-shared"/>
  <property name="JRA_dataset_p25" value="$(gfdlO_pdata)/datasets/OM4_025/INPUT.JRA.v2019.07.04"/>

<!--===========-->
<!--= COMPILE =-->
<!--===========-->
  <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its input data files-->
  <property name="LIBS_ROOT"      value="tuning_diff_exp_compile"/> <!--name of libs compile experiment-->
  
  <property name="MOM6_EXAMPLES"  value="$root/$(LIBS_ROOT)/src/mom6"/>
  <property name="FMS_LIB_DIR"    value="./$(LIBS_ROOT)/$(platform)-$(target)/exec"/>
  <property name="MY_LIBS"        value="$(EXEC_ROOT)/$(FMS_LIB_DIR)"/>

  <experiment name="tuning_diff_exp_compile">
    <description>
Experiment to build executable.
    </description>

      <component name="fms" paths="FMS/affinity FMS/amip_interp FMS/column_diagnostics FMS/diag_integral FMS/fft FMS/horiz_interp FMS/memutils FMS/oda_tools FMS/sat_vapor_pres FMS/topography FMS/astronomy FMS/constants  FMS/diag_manager FMS/field_manager FMS/include FMS/monin_obukhov FMS/platform FMS/station_data FMS/tracer_manager FMS/axis_utils FMS/coupler FMS/drifters FMS/fms FMS/fms2_io FMS/interpolator FMS/mosaic FMS/random_numbers FMS/time_interp FMS/tridiagonal FMS/block_control  FMS/data_override FMS/exchange  FMS/mpp FMS/time_manager">
     <description domainName="infrastructure" communityName="FMS" communityVersion="$(RELEASE)" communityGrid=""/>
     <source versionControl="git" root="https://github.com/NOAA-GFDL">
            <codeBase version="$(FMS_GIT_TAG)"> FMS.git </codeBase>
     </source>
     <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DMAXFIELDMETHODS_=500 </cppDefs>
      </compile>
    </component>
    
    <component name="AM2" requires="fms" paths="AM2/atmos_drivers/coupled AM2/atmos_fv_dynamics/driver/coupled AM2/atmos_fv_dynamics/{model,tools} AM2/atmos_param_am3 AM2/atmos_shared_am3">
      <source versionControl="git" root="https://github.com/raphaeldussin">
        <codeBase version="master"> blankspace.git </codeBase>
          <csh><![CDATA[
            ( mv blankspace AM2 )
            ( cd AM2 && git clone http://gitlab.gfdl.noaa.gov/fms/atmos_drivers.git && pushd atmos_drivers && git checkout prerelease_warsaw_20170330 && popd )
            ( cd AM2 && git clone http://gitlab.gfdl.noaa.gov/fms/atmos_fv_dynamics.git && pushd atmos_fv_dynamics && git checkout warsaw && popd )
            ( cd AM2 && git clone http://gitlab.gfdl.noaa.gov/fms/atmos_param_am3.git && pushd atmos_param_am3 && git checkout warsaw && rm -rf monin_obhukov && popd )
            ( cd AM2 && git clone http://gitlab.gfdl.noaa.gov/fms/atmos_shared_am3.git && pushd atmos_shared_am3 && git checkout warsaw_201803 && popd )
           ]]>
          </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DSPMD -DLAND_BND_TRACERS -Duse_AM3_physics -D_USE_LEGACY_LAND_ </cppDefs>
      </compile>
    </component>

    <component name="LM3" requires="fms" paths="LM3/land_lad2 LM3/land_param">
      <source versionControl="git" root="https://github.com/raphaeldussin">
        <codeBase version="master"> blankspace.git </codeBase>
          <csh><![CDATA[
            ( mv blankspace LM3 )
            ( cd LM3 && git clone http://gitlab.gfdl.noaa.gov/fms/land_lad2.git && pushd land_lad2 && git checkout verona_201701 && popd )
            ( cd LM3 && git clone http://gitlab.gfdl.noaa.gov/fms/land_param.git && pushd land_param && git checkout verona_201701 && popd )
              ]]>
              <!--Kiera changed land_param version from verona_prerelease to verona_201701 to fix error-->
          </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DSPMD -DLAND_BND_TRACERS -Duse_AM3_physics -D_USE_LEGACY_LAND_ </cppDefs>
      </compile>
    </component>

    <component name="mom6" requires="fms" paths="mom6/src/MOM6/config_src/dynamic_symmetric mom6/src/MOM6/config_src/coupled_driver mom6/src/MOM6/src/*/ mom6/src/MOM6/src/*/*/ mom6/src/MOM6/config_src/external/ODA_hooks ocean_BGC/generic_tracers ocean_BGC/mocsy/src">
      <description domainName="Ocean" communityName="GFDL-MOM6" communityVersion="$(MOM6_GIT_TAG)" communityGrid="Tripolar"/>
       <source versionControl="git" root="https://github.com/NOAA-GFDL">
           <codeBase version="main"> ocean_BGC.git </codeBase> <!--changed version from master to main -->
        <csh><![CDATA[
          ( cd ocean_BGC && git checkout $(OCEAN_BGC_GIT_TAG) )
          git clone -b dev/gfdl https://github.com/NOAA-GFDL/MOM6-examples.git mom6
          pushd mom6
          git checkout $(MOM6_GIT_TAG)
          git submodule update --recursive --init src/MOM6 src/SIS2 src/icebergs
	  (cd src/icebergs ; git checkout dev/gfdl)
          #Revert a Fix to m6plot.py for frepp plots to work on PAN
          git revert --no-edit 9fb4ab2
	  #Fixes for refineDiag analysis scripts to work with symmetric build
	  git remote add nnz https://github.com/nikizadehgfdl/MOM6-examples.git && git fetch nnz
          # cherry-pick commits from Niki
          git cherry-pick -n 9186fc9f
          git cherry-pick -n 8f188842
          popd

          pushd mom6
          set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
          if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
            ln -s /scratch4/GFDL/gfdlscr/pdata/gfdl_O/datasets/ .datasets
          else if ("${platform_domain}" =~ *"MsState"* ) then
            ln -s /work/noaa/gfdlscr/pdata/gfdl/gfdl_O/datasets/ .datasets
          else
            #ln -s /lustre/f2/pdata/gfdl/gfdl_O/datasets/ .datasets
		ln -s /gpfs/f5/gfdl_o/world-shared/datasets/ .datasets
          endif
          popd	  

          test -e mom6/.datasets
          if ($status != 0) then
            echo ""; echo "" ; echo "   WARNING:  .datasets link in MOM6 examples directory is invalid"; echo ""; echo ""
          endif
 
 
        ]]></csh>
      </source>
      <compile>
        <cppDefs><![CDATA[ $(F2003_FLAGS) -DMAX_FIELDS_=100 -DNOT_SET_AFFINITY -D_USE_MOM6_DIAG -D_USE_GENERIC_TRACER -DUSE_PRECISION=2 ]]></cppDefs>
        <!--<makeOverrides>OPENMP=""</makeOverrides>  openmp switch for MOM6 may cause crash -->
      </compile>
    </component>
   
    <component name="sis2" paths="mom6/src/SIS2/config_src/dynamic_symmetric mom6/src/SIS2/src mom6/src/icebergs/src ice_param" requires="fms mom6" includeDir="$root/$(LIBS_ROOT)/src/mom6/src/MOM6/src/framework" > 
       <source versionControl="git" root="https://github.com/NOAA-GFDL">
           <codeBase version="$(ICE_PARAM_GIT_TAG)"> ice_param.git </codeBase>
       </source>
       <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) ]]></cppDefs>
       </compile>
      </component>
 
      <component name="coupler" paths="coupler" requires="fms AM2 LM3 sis2  mom6">
        <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid=""/>  
        <source versionControl="git" root="https://github.com/NOAA-GFDL">
          <codeBase version="$(COUPLER_GIT_TAG)"> coupler.git </codeBase>
          <csh><![CDATA[

               ( cd coupler && git checkout 14578f0 )
                 ]]></csh>
        </source>
        <compile>
          <cppDefs><![CDATA[$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DSPMD -DLAND_BND_TRACERS -Duse_AM3_physics -D_USE_LEGACY_LAND_ ]]></cppDefs>
         </compile>
      </component>
  </experiment>


<!--============================-->
<!--= TEMPLATES FOR INPUT DATA =-->
  <!--============================-->
  <freInclude name="AM2_LM3_MOM6i_1deg">
     <input>
			  
  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/aerosol.climatology.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/aerosol.optical.dat</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/albedo.data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/amip1_sst.data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/annual_mean_ozone</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/asmsw_data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/atmos_hgrid.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/atmos_mosaic.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/basin.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/BetaDistributionTable.txt</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/cfc.bc.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/ch4_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/clim_CHL_esm2g_yrs_201-360.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_0_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_1250_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_1750_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_2250_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_2800_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_300_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_4000_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsch4_700_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_0_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_0_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_0_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_0_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_0_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1320_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1320_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1320_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1320_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1320_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1600_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1600_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1600_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1600_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_1600_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_165_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_165_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_165_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_165_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_165_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_300_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_300_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_300_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_300_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_300_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_330_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_330_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_330_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_330_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_330_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_348_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_348_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_348_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_348_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_348_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_356_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_356_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_356_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_356_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_356_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_360_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_360_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_360_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_360_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_360_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_600_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_600_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_600_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_600_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_600_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_660_43um.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_660_490630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_660_490850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_660_630700.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsco2_660_700850.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_0_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_0_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_0_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_180_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_180_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_180_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_275_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_275_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_275_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_280_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_280_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_280_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_310_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_310_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_310_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_340_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_340_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_340_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_375_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_375_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_375_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_500_10701200.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_500_12001400.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//CM2G63L/ulm/INPUT/cnsn2o_500_560630.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/co2_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/conc_all.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/cover_type_field</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/cover_type_field.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/cover_type.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/eftsw4str</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/emissions.ch3i.GEOS4x5.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/esf_sw_input_data_n38b18</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/esf_sw_input_data_n72b25</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/extlw_data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/extsw_data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/f113_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/f11_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/f12_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/f22_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/geohydrology.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/geohydrology_table.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/geothermal_heating_cm2g.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/GOLD_IC.2010.11.15.nc</dataSource>
  </dataFile>

  <!--  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/grid_spec.nc</dataSource>
  </dataFile>-->
  <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/grid_spec.nc</dataSource>
        <dataSource site="gfdl">/archive/gold/datasets/AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/grid_spec.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/ground_type_field</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/ground_type.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/groundwater_residence_time_field</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/gustiness_qscat.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2o12001400_hi00_data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2o12001400_hi92_data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ockd2.1_corrdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ockd2.1_data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ockd2.4_corrdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_ckd_0_3000_10cm_hi00</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_ckd_speccombwidebds_hi00</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_ckd_speccombwidebds_hi92</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_rsb_0_3000_10cm_hi00</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_rsb_speccombwidebds_hi00</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/h2ocoeff_rsb_speccombwidebds_hi92</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/id1ch4n2</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/id1o3</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/id2h2obdckd2p1</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/id2h2obdfull</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/id2h2orbts</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/land_hgrid.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/land_mask.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/land_mosaic.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/lean_solar_spectral_data.dat</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/mosaic.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/n2o_gblannualdata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/navy_topography.data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/o39001200_hi00_data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/o39001200_hi92_data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/o3.climatology.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/ocean_grid.7.29.2008_fixed.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/ocean_hgrid.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/ocean_mask.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/ocean_mosaic.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/ocean_vgrid.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/OM3_zgrid.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/omgsw_data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/radfn_5-2995_100-490k</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/randelo3data</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/reynolds_sst.data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/reyoi_sst.data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/river_data.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/river_destination_field</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/salt_restore.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/seasonal_ozone</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/seawifs_1998-2006_GOLD_smoothed_2X.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/sgs_h2.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/soil_brdf.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/sst_ice_clim.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/stdlvls</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/swstratendramadata</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/temp_restore.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/tideamp.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/mosaic.unpacked/topog.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/WOA05_pottemp_salt.nc</dataSource>
  </dataFile>

  <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/gpfs/f5/gfdl_o/world-shared/datasets//AM2_LM3_MOM6i_1deg/tikal/INPUT/zonal_ozone_data.nc</dataSource>
  </dataFile>

     </input>
  </freInclude>


  <freInclude name="common_init_csh_blocks">
    <input>
      <csh type="always"><![CDATA[

# Copy AWG and OWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?flagOutputXferOn && $?flagOutputPostProcessOn && $currentSeg == 1 ) then
  #gcp --batch does not understand some variations of home filesystem like /autofs/mnt/ncrc-svm1_home1 so we need to massage rtsxml to comply
  set xmldirlocal = `dirname $rtsxml | sed -r "s/^\/(autofs|ncrc)\/.+\/$USER\//\~$USER\//"`
  set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome"`
  set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
  if ("${platform_domain}" == "ncrc.gov") then
    set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome;$patternSedCTMP;$patternSedCPERM"`
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  endif
  #trick to copy MOM6 directory but avoid traversing the .datasets links
  tar cvf mom6.tar --exclude='.datasets' -C $(MOM6_EXAMPLES) . > /dev/null
  #tar cvf mom6.tar  --exclude='.datasets' --exclude='src' --exclude='INPUT'  -C $(MOM6_EXAMPLES) . > /dev/null
  mkdir mom6
  tar xvf mom6.tar -C ./mom6 > /dev/null
  if ("${platform_domain}" == "ncrc.gov") then
    gcp --batch -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  endif
endif

# create dummy MOM6 parameter file for do_ocean=.false.
touch $work/INPUT/MOM_input
touch $work/INPUT/MOM_override
touch $work/INPUT/MOM_layout
touch $work/INPUT/SIS_override
touch $work/INPUT/SIS_layout
ln -s $work/INPUT/topog.nc $work/INPUT/ocean_topog.nc 

# Record the job stdout location for later use timings database
cat >> $HOME/frejobs_stdout <<EOF_frejobs
$stdoutDir/$FRE_JOBID
EOF_frejobs


####COMMON ALWAYS CSH BEGINS######
# MOM6 restart switch
if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

######################################################################
#  The finite-volume cubed-sphere model should have the dry mass
#  adjusted at the initial model time only. This script determines
#  if the model is at the initial time by comparing model start time
#  and current time in the coupler.res file.
######################################################################
set adjust_dry_mass = ".true."
if (-e $work/INPUT/coupler.res) then
   set t1 = (`grep "Model start time"   $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
   set t2 = (`grep "Current model time" $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
   foreach i (1 2 3 4 5 6)
      if ( $t1[$i] != $t2[$i] ) then
         set adjust_dry_mass = ".false."
         break   
      endif      
   end
endif

#Scan auxiliary_nml for setting MOM6/SIS2 layouts

cat > $work/INPUT/MOM_layout << MOM_LAYOUT_EOF
#override IO_LAYOUT = $ocn_io_layout
#override LAYOUT    = $ocn_layout
#override MASKTABLE = $ocn_mask_table
MOM_LAYOUT_EOF

cat > $work/INPUT/SIS_layout << SIS_LAYOUT_EOF
#override IO_LAYOUT = $ice_io_layout
#override LAYOUT    = $ice_layout
SIS_LAYOUT_EOF

cat > $work/INPUT/SIS2_layout << SIS2_LAYOUT_EOF
#override MASKTABLE = $ocn_mask_table
#override IO_LAYOUT = $ocn_io_layout
#override LAYOUT    = $ocn_layout
#override IO_LAYOUT_FAST = $ice_io_layout
#override LAYOUT_FAST    = $ice_layout
SIS2_LAYOUT_EOF

#timing runs show that nyblocks = 2 * atm_threads perform better than nyblocks = atm_threads
set nxblock = 1
set nyblock = $atm_threads

###The following vars are set for the timing database ingestion tool only and are not necessary for a successful run
set OCN_MASK_TABLE  =  $ocn_mask_table
set OCN_LAYOUT    = $ocn_layout
set OCN_IO_LAYOUT = $ocn_io_layout
set ICE_MASK_TABLE  =  $ice_mask_table
set ICE_LAYOUT    = $ice_layout
set ICE_IO_LAYOUT = $ice_io_layout
set atmos_npes = $atm_ranks
set ocean_npes = $ocn_ranks
set fv_layout = $atm_layout
set fv_io_layout  = $atm_io_layout
set land_layout   = $lnd_layout
set land_io_layout = $lnd_io_layout
#set dummy  = `awk '/nxblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nxblocks = $nxblock
#set dummy  = `awk '/nyblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nyblocks = $nyblock

####COMMON ALWAYS CSH ENDS######
      ]]></csh>
           
     </input>
  </freInclude>

  <freInclude name="AM2_MOM6_common">
    <input>
	
	  <namelist name="aerosol_nml">
	    use_aerosol_timeseries = .false.
	    aerosol_dataset_entry =  1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
				     1860, 1, 1, 0, 0, 0,
	    family_names = "small_dust", "large_dust", "sulfate", "aerosol"
	    in_family1 = F,F,F,F,F,T,T,T,T,T,F,F,F,T,T,T,T,T,F,F,F,
	    in_family2 = F,F,F,F,F,F,F,F,F,F,T,T,T,F,F,F,F,F,T,T,T,
	    in_family3 = T,T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,
	    in_family4 = T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,
	    data_names = "so4_anthro", "so4_natural", "organic_carbon", "black_carbon", "sea_salt",
			 "anthro_dust_0.1", "anthro_dust_0.2", "anthro_dust_0.4", "anthro_dust_0.8",
			 "anthro_dust_1.0", "anthro_dust_2.0", "anthro_dust_4.0", "anthro_dust_8.0",
			 "natural_dust_0.1", "natural_dust_0.2", "natural_dust_0.4", "natural_dust_0.8",
			 "natural_dust_1.0", "natural_dust_2.0", "natural_dust_4.0", "natural_dust_8.0",
	    filename = "aerosol.climatology.nc"
	</namelist>

	 <namelist name="aerosolrad_package_nml">
	    volcanic_dataset_entry = 1, 1, 1, 0, 0, 0,
	    using_volcanic_lw_files = .false.,
	    lw_ext_filename = "             "
	    lw_ext_root = "     "
	    lw_asy_filename = "             "
	    lw_asy_root = "     "
	    lw_ssa_filename = "             "
	    lw_ssa_root = "     "
	    using_volcanic_sw_files = .false.,
	    sw_ext_filename = "             "
	    sw_ext_root = "     "
	    sw_ssa_filename = "             "
	    sw_ssa_root = "     "
	    sw_asy_filename = "             "
	    sw_asy_root = "     "
	    do_lwaerosol = .true.,
	    do_swaerosol = .true.,
	    aerosol_data_set = 'shettle_fenn',
	    optical_filename = "aerosol.optical.dat",
	    aerosol_optical_names = "sulfate_30%", "sulfate_35%", "sulfate_40%", "sulfate_45%",
				    "sulfate_50%", "sulfate_55%", "sulfate_60%", "sulfate_65%",
				    "sulfate_70%", "sulfate_75%", "sulfate_80%", "sulfate_82%",
				    "sulfate_84%", "sulfate_86%", "sulfate_88%", "sulfate_90%",
				    "sulfate_91%", "sulfate_92%", "sulfate_93%", "sulfate_94%",
				    "sulfate_95%", "sulfate_96%", "sulfate_97%", "sulfate_98%",
				    "sulfate_99%", "sulfate_100%","organic_carbon","soot",
				    "sea_salt",    "dust_0.1",    "dust_0.2",    "dust_0.4",
				    "dust_0.8",    "dust_1.0",    "dust_2.0",    "dust_4.0",
				    "dust_8.0"
	</namelist>

	 <namelist name="atmos_co2_nml">
	    do_co2_restore = .true.
	    restore_tscale = 3.1536e7,
	    restore_klimit = 24
	    co2_radiation_override = .true.
	    do_co2_emissions = .false.      ! turn on for historical free co2 runs
	</namelist>

	 <namelist name="atmosphere_nml">
	    physics_window = 0,0
	</namelist>

	 <namelist name="amip_interp_nml">
	    data_set = 'reynolds_oi',
	    date_out_of_range = 'fail'
	</namelist>

	 <namelist name="cg_drag_nml">
	    cg_drag_freq = 1800,
	    cg_drag_offset = 0,
	    debug = .false.,
	    calculate_ked = .false.,
	    itest = 12,
	    jtest = 42,
	    ktest = 9,
	    Bt_0 = 0.0015,
	    lat_limit = 25.0
	</namelist>

	 <namelist name="cloud_rad_nml">
	    overlap = 2,
	    do_brenguier = .false.
	</namelist>

	 <namelist name="cloud_spec_nml">
	    cloud_type_form = 'strat'
	</namelist>

	 <namelist name="cloudrad_package_nml">
	    microphys_form = 'predicted'
	</namelist>

	 <namelist name="clouds_nml">
	    do_zonal_clouds = .false.,
	    do_obs_clouds  = .false.
	</namelist>

	 <namelist name="cu_mo_trans_nml">
	    diff_norm = 2.0
	</namelist>

	 <namelist name="damping_driver_nml">
	    trayfric = -40.,
	    nlev_rayfric = 1,
	    do_mg_drag = .true.,
	    do_cg_drag = .false.,
	    do_topo_drag = .false.,
	    do_conserve_energy = .true.
	</namelist>

	 <namelist name="diag_cloud_nml">
	    linvers = .false., lcnvcld = .false.,
	    l_theqv = .true., lomega = .true.,
	    low_lev_cloud_index = 16, nofog = .false.
	</namelist>

	 <namelist name="diag_cloud_rad_nml">
	    l_har_anvil   = .true.,
	    l_har_coldcld = .true.,
	    l_anom_abs_v  = .true.
	</namelist>

	 <namelist name="diag_integral_nml">
	    file_name  = 'diag_integral.out',
	    time_units = 'days',
	    output_interval = 1.0
	</namelist>

	 <namelist name="diag_manager_nml">
	    max_files = 50,
	    max_axes = 200,
	    max_num_axis_sets = 200,
	    max_input_fields = 800
	    max_output_fields = 1300
	    mix_snapshot_average_fields=.false.
	    issue_oor_warnings = .false.          ! (default=true)
	</namelist>

	 <namelist name="donner_deep_clouds_W_nml">
	    using_dge_sw = .true.,
	    using_dge_lw = .true.
	</namelist>

	 <namelist name="donner_deep_nml">
	    donner_deep_offset = 0
	    donner_deep_freq = 1800
	    save_donner_deep_diagnostics=.true.
	    cell_liquid_size_type = 'bower'
	    cell_ice_size_type = 'default'
	    debug = .false.
	    kttest=5
	    itest=53
	    jtest=32
	    ktest_model=17
	</namelist>

	 <namelist name="edt_nml">
	    n_print_levels = 14,
	    use_qcmin = .true.,
	    num_pts_ij = 0,
	    min_adj_time = 1.0,
	    do_gaussian_cloud = .false.,
	    use_extrapolated_ql = .false.
	</namelist>

	 <namelist name="entrain_nml">
	    convect_shutoff = .true.,
	    apply_entrain = .true.,
	    parcel_buoy   = 0.25,
	    parcel_option = 2,
	    beta_rad      = 0.5,
	    Ashear        = 25.0,
	    radperturb    = 0.10,
	    critjump      = 0.10,
	    num_pts_ij    = 0,
	    i_entprt_gl   = 112, 96, 89,105, 81, 97,
	    j_entprt_gl   =  71, 61, 56, 64, 53, 46
	</namelist>

	 <namelist name="esfsw_parameters_nml">
	    sw_resolution = 'low',
	    sw_diff_streams = 1
	</namelist>

	 <namelist name="flux_exchange_nml">
	    debug_stocks = .FALSE.
	    divert_stocks_report = .TRUE.
	    do_area_weighted_flux = .FALSE.
	</namelist>

	 <namelist name="fms_nml">
	    domains_stack_size = 800000
	</namelist>

	  <namelist name="fms_io_nml">
	    fms_netcdf_restart=.true.
	    threading_read='multi'
	    max_files_r = 300
	    max_files_w = 300
	</namelist>

	 <namelist name="fv_core_nml">
	    LAYOUT = 0,30 <!--try changing to 6,5 to stick to 30 npes (or 12,5 to use more PEs) -->
	    nlon =144
	    mlat=90
	    nlev = 24
	    ncnst = 4
	    pnats = 0
	    n_split = 5
	    change_time = .true.
	    consv_te = 0.7
	    restart_format='NETCDF'
	</namelist>

	 <namelist name="gas_tf_nml">
	    interp_form = 'log' ,
	    do_calcstdco2tfs = .true.,
	    do_writestdco2tfs= .false.,
	    do_readstdco2tfs = .false.,
	    do_calcstdch4tfs = .true.,
	    do_writestdch4tfs= .false.,
	    do_readstdch4tfs = .false.,
	    do_calcstdn2otfs = .true.,
	    do_writestdn2otfs= .false.,
	    do_readstdn2otfs = .false.
	</namelist>

	<namelist name="generic_tracer_nml">
	    do_generic_tracer=.false.
	    do_generic_CFC=.false.
	    do_generic_TOPAZ=.false.
	</namelist>

	<namelist name="ice_albedo_nml">
	    t_range = 10.
	</namelist>

	<namelist name="ice_model_nml">
	</namelist>

	<namelist name="icebergs_nml">
	  time_average_weight = .false.
	  speed_limit=0.50
	  verbose=.TRUE.
	  traj_sample_hrs=0
	  verbose_hrs=120
	</namelist>

	 <namelist name="lscale_cond_nml">
	    do_evap = .true.
	</namelist>

	 <namelist name="lw_gases_stdtf_nml">
	    NSTDCO2LVLS=496
	</namelist>

	 <namelist name="mg_drag_nml">
	    gmax  = 1.,
	    acoef = 1.,
	    do_conserve_energy = .true.,
	    source_of_sgsmtn = 'computed'
	</namelist>

	 <namelist name="microphys_rad_nml">
	    lwem_form = 'fuliou'
	</namelist>

	 <namelist name="moist_conv_nml">
	    beta = 0.0
	</namelist>

	 <namelist name="moist_processes_nml">
	    do_lsc=.false., do_strat=.true., do_mca=.false., do_ras=.true.,
	    do_donner_deep = .false.,
	    do_diag_clouds = .false., do_cmt=.true.,
	    do_rh_clouds = .false.,
	    do_gust_cv = .false.
	    include_donmca_in_cosp = .false.
	</namelist>

	 <namelist name="monin_obukhov_nml">
	    stable_option =  2,
	    rich_crit = 10.0,
	    zeta_trans =  0.5
	</namelist>

	 <namelist name="my25_turb_nml">
	    do_thv_stab = .true.,
	    TKEmin = 1.e-8,
	    AKmin_land = 5.,
	    AKmin_sea  = 0.
	</namelist>

	<namelist name="ocean_albedo_nml">
	    ocean_albedo_option = 5
	</namelist>

	<namelist name="ocean_rough_nml">
	    rough_scheme = 'beljaars'
	</namelist>

	 <namelist name="ozone_nml">
	    basic_ozone_type = 'fixed_year' ,
	    ozone_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    data_name = "ozone",
	    filename = "o3.climatology.nc"
	</namelist>

	 <namelist name="physics_driver_nml">
	    do_modis_yim = .false.
	</namelist>

	 <namelist name="rad_output_file_nml">
	    write_data_file=.true.
	</namelist>

	 <namelist name="rad_utilities_nml">
	</namelist>

	 <namelist name="radiation_diag_nml">
	    iradprt_gl = 20, 6,
	    jradprt_gl = 12, 20,
	    num_pts_ij = 0
	</namelist>

	 <namelist name="radiation_driver_nml">
	    rad_time_step= 10800,
	    rad_package = 'sea_esf',
	    do_clear_sky_pass=.true.,
	    renormalize_sw_fluxes=.true.,
	    zenith_spec = 'diurnally_varying',
	    use_co2_tracer_field = .false.  ! not using co2 tracer field
	    using_restart_file = .false.
	</namelist>

	 <namelist name="radiation_driver_diag_nml">
	    all_step_diagnostics = .true.,
	</namelist>

	 <namelist name="radiative_gases_nml">
	    verbose = 3
	    gas_printout_freq = 240

	    time_varying_co2 = .false.,
	    co2_variation_type = 'linear',
	    co2_dataset_entry = 1860,1,1,0,0,0,
	    co2_specification_type = 'time_series',
	    co2_floor = 100.0E-06,
	    co2_ceiling = 1600.0E-06,
	    co2_data_source = 'input'

	    time_varying_ch4 = .false.,
	    ch4_variation_type = 'linear'
	    ch4_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    ch4_specification_type = 'time_series'
	    ch4_data_source = 'input'

	    time_varying_n2o = .false.,
	    n2o_variation_type = 'linear'
	    n2o_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    n2o_specification_type = 'time_series'
	    n2o_data_source = 'input'

	    time_varying_f11 = .false.,
	    f11_variation_type = 'linear'
	    f11_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    f11_specification_type = 'time_series'
	    f11_data_source = 'input'

	    time_varying_f12 = .false.,
	    f12_variation_type = 'linear'
	    f12_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    f12_specification_type = 'time_series'
	    f12_data_source = 'input'

	    time_varying_f113 = .false.,
	    f113_variation_type = 'linear'
	    f113_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    f113_specification_type = 'time_series'
	    f113_data_source = 'input'

	    time_varying_f22 = .false.,
	    f22_variation_type = 'linear'
	    f22_dataset_entry = 1860, 1, 1, 0, 0, 0,
	    f22_specification_type = 'time_series'
	    f22_data_source = 'input'

	    calc_co2_tfs_on_first_step = .false.,
	    calc_co2_tfs_monthly = .true.,
	    co2_tf_time_displacement = 0.0,

	    calc_ch4_tfs_on_first_step = .false.,
	    calc_ch4_tfs_monthly = .true.,
	    ch4_tf_time_displacement = 360.0,

	    calc_n2o_tfs_on_first_step = .false.,
	    calc_n2o_tfs_monthly = .true.,
	    n2o_tf_time_displacement = 360.0,
	</namelist>

	 <namelist name="random_number_streams_nml">
	       do_legacy_seed_generation = .true. ! siena_201303
	       force_use_of_temp_for_seed=.false.
	</namelist>

	 <namelist name="ras_nml">
	    aratio = 1.0,
	    modify_pbl=.true.
	    rn_frac_bot = 0.5,
	    rn_pbot = 800.0e2,
	    puplim =  20.0e02,
	    rn_ptop = 500.0e2,
	    rn_frac_top = 0.975,
	    Tokioka_on = .true.,
	    Tokioka_con = 0.025,
	    Tokioka_plim = 500.0e2,
	    a = 1.6851, 1.1686, 0.7663, 0.5255, 0.4100, 0.3677,
		0.3151, 0.2216, 0.1521, 0.0750, 0.0000, 0.0000,
		0.0000, 0.0000, 0.0000
	</namelist>

	 <namelist name="rh_based_clouds_nml">
	    cirrus_cld_prop_form = 'part',
	    cldht_type_form = '93'
	</namelist>

	 <namelist name="sat_vapor_pres_nml">
	    construct_table_wrt_liq = .true.,
	    construct_table_wrt_liq_and_ice = .true.
	</namelist>

	 <namelist name="sealw99_nml">
	    do_thick = .false.,
	    do_nlte = .false.,
	    do_lwcldemiss = .true.,
	    do_n2olbltmpint = .false.,
	    continuum_form = 'ckd2.1',
	    linecatalog_form = 'hitran_2000',
	    verbose = 5
	</namelist>

	 <namelist name="shortwave_driver_nml">
	    do_cmip_diagnostics = .true.,
	    swform = 'esfsw99'
	    time_varying_solar_constant = .false.,
	    solar_dataset_entry = 1860,1,1,0,0,0,
	</namelist>

	 <namelist name="stable_bl_turb_nml">
	    alsm = 500.0,
	    alsh = 500.0
	</namelist>

	 <namelist name="strat_cloud_nml">
	    do_old_snowmelt = .true.
	    U00 = 0.800,
	    U00_profile = .true.,
	    rthresh =  8.0,
	    Dmin = 1.0e-07,
	    n_land = 300.e6,
	    diff_thresh = 0.1,
	    mc_thresh = 0.001,
	    eros_scale = 1.e-6,
	    eros_choice = .true.,
	    eros_scale_c = 8.e-6,
	    eros_scale_t = 5.e-5,
	    super_choice = .true.,
	    tracer_advec = .true.
	</namelist>

	<namelist name="topography_nml">
	    topog_file = 'INPUT/navy_topography.data.nc'
	</namelist>

	 <namelist name="vert_diff_driver_nml">
	    do_conserve_energy = .true.
	</namelist>

	 <namelist name="vert_turb_driver_nml">
	    use_tau          = .false.,
	    gust_scheme      = 'beljaars',
	    do_mellor_yamada = .false.,
	    do_entrain       = .true.,
	    do_edt           = .false.,
	    do_diffusivity   = .false.,
	    do_stable_bl     = .true.,
	    do_shallow_conv  = .false.
	</namelist>

	 <namelist name="xgrid_nml">
	    make_exchange_reproduce = .false.
	    interp_method = 'second_order'
	</namelist>


	 <namelist name="cana_nml">
	    turbulence_to_use = "lm3v"
	    init_co2 = 286.0e-6
	    canopy_air_mass_for_tracers = 10.0
	</namelist>
	 <namelist name="glac_data_nml">
	    use_lm2_awc = .true.,
	    rsa_exp_global = 10.,
	    dat_emis_dry = 1.,
	    dat_emis_sat = 1.,
	</namelist>
	 <namelist name="glac_nml">
	    conserve_glacier_mass = .true.
	    lm2 = .true.
	</namelist>
	 <namelist name="harvesting_nml">
	    do_harvesting          = .FALSE.     !!! turn on for LAND USE
	    grazing_intensity      = 0.25
	    grazing_residue        = 0.1
	    frac_wood_wasted_harv  = 0.25
	    frac_wood_wasted_clear = 0.25
	    !frac_wood_fast         = ONETHIRD
	    !frac_wood_med          = ONETHIRD
	    !frac_wood_slow         = ONETHIRD
	    crop_seed_density      = 0.1
	</namelist>
	 <namelist name="lake_data_nml">
	    lake_to_use = 'from-rivers'
	    num_l = 20,
	    dat_emis_dry = 1.,
	    dat_emis_sat = 1.,
	    dat_heat_capacity_ref = 0.,
	    f_iso_liq = 0.02, 0.01
	    f_iso_ice = 0.02, 0.01
	    f_vol_liq = 0.003, 0.
	    f_vol_ice = 0.003, 0.
	    f_geo_liq = 0., 0.
	    f_geo_ice = 0., 0.
	</namelist>
	 <namelist name="lake_nml">
	    albedo_to_use = 'brdf-params'
	    float_ice_to_top = .true.
	</namelist>
	 <namelist name="land_debug_nml">
	    watch_point = 0,0,0,1
	</namelist>
	 <namelist name="land_model_nml">
	    layout = 1,0
	    io_layout = 1,1
	    tau_snow_T_adj = 604800.
	</namelist>
	 <namelist name="landuse_nml">
	    do_landuse_change = .false.,       !!! turn on for LAND USE
	    input_file = 'INPUT/landuse.nc'
	</namelist>
	 <namelist name="river_nml">
	    dt_slow     = 86400.
	    land_area_called_cellarea = .true.
	    all_big_outlet_ctn0 = .true.
	</namelist>
	 <namelist name="river_physics_nml">
	    lake_sfc_w_min = 20.
	</namelist>
	 <namelist name="snow_data_nml">
	    emis_snow_max = 1.
	    emis_snow_min = 1.
	    z0_momentum = 0.01
	    num_l = 5
	    dz = 0.05, 0.2, 0.5, 0.2, 0.05, 0.0, 0.0, 0.0, 0.0, 0.0
	    f_iso_cold = 0.90, 0.60
	    f_vol_cold = 0.09, 0.13
	    f_geo_cold = 0.00, 0.00
	    f_iso_warm = 0.90, 0.60
	    f_vol_warm = 0.09, 0.13
	    f_geo_warm = 0.00, 0.00
	    depth_crit = 0.05
	</namelist>
	 <namelist name="snow_nml">
	    min_snow_mass = 1.e-10
	    max_snow = 1000.
	    albedo_to_use = 'brdf-params'
	</namelist>
	 <namelist name="soil_data_nml">
	    dat_emis_dry     = 1., 1., 1., 1., 1., 1., 1., 1., 1.
	    dat_emis_sat     = 1., 1., 1., 1., 1., 1., 1., 1., 1.
	    dat_tf_depr      = 2., 2., 2., 2., 2., 2., 2., 2., 2.
	    geohydrology_to_use = 'hill_ar5'
	    gw_scale_soil_depth  = 10.
	    freeze_factor    = 2.0
	    comp             = 1e-4
	    num_l            = 20
	    dz = 0.020, 0.040, 0.040, 0.050, 0.05, 0.100, 0.10, 0.200, 0.200, 0.2,
		 0.40,  0.40,  0.40,  0.4,   0.4,   1.0,   1.0,  1.0,  1.5,   2.5
   </namelist>
   <!-- allow_neg_wl=.true. added by Kiera -->
	 <namelist name="soil_nml">
	    init_w        = 500.
	    albedo_to_use = 'brdf-maps'
	    uptake_to_use = 'darcy2d-linearized'
	    uptake_oneway = .true.
	    active_layer_drainage_acceleration = 100.
     write_soil_carbon_restart = .FALSE. !To reproduce siena answers
     allow_neg_wl=.true.
	</namelist>
	 <namelist name="static_veg_nml">
	    use_static_veg = .FALSE.
	    timeline   = 'loop'
	    start_loop = 2420, 1, 1, 0, 0, 0
	    end_loop   = 2470, 1, 1, 0, 0, 0
	    fill_land_mask = .TRUE.
	</namelist>
	 <namelist name="topo_rough_nml">
	    use_topo_rough    = .true.
	    max_topo_rough    = 100.0
	    topo_rough_factor = 0.01
	</namelist>
	 <namelist name="vegn_data_nml">
	    vegn_to_use = 'uniform'
	    K1=10,
	    K2=0.1,
	    fsc_liv=0.9,
	    fsc_wood=0.45,
	    c1(4) = 0.3
	    c2(4) = 0.3
	    Vmax = 2.0E-5, 2.0E-5, 2.0E-5, 2.0E-5, 1.50E-5,
	    m_cond = 4., 9., 9., 7., 7.,
	    alpha_phot = 0.05, 0.06, 0.06, 0.06, 0.06,
	    gamma_resp = 0.03, 0.02, 0.02, 0.02, 0.02,
	    fact_crit_phen(0:4) = 0., 0., 0., 0., 0.
	    fact_crit_fire(0:4) = 0., 0., 0., 0., 0.
	    cnst_crit_phen(0:4) = 0.30, 0.15, 0.15, 0.30, 0.30
	    cnst_crit_fire(0:4) = 0.15,  0.40, 0.15, 0.15, 0.15
	    wet_leaf_dreg(0:4)  = .3, .3, .3, .3, .3
	    ksi =  0, 0, 0, 0, 0,
	    leaf_refl(0:4,1) = 0.11, 0.11, 0.10, 0.10, 0.10
	    leaf_refl(0:4,2) = 0.58, 0.58, 0.5, 0.5, 0.5,
	    dat_root_zeta(0:4) =   0.35212, 0.17039, 0.28909, 0.25813, 0.17039
	    critical_root_density = 0.0,
	    tau_drip_s     = 259200.0
	    cmc_lai(0:4) = 0.02, 0.02, 0.02, 0.02, 0.02
	    csc_lai(0:4) = 0.2, 0.2, 0.2, 0.2, 0.2
	    dat_snow_crit = 0.0167, 0.0167, 0.0333, 0.2, 0.2
	    t_transp_min = 268.
	    srl(0:1) = 112.0e3, 150.0e3
	    root_perm = 14*5e-7
	    alpha(1,3) = 4
	    leaf_age_tau(2) = 150
	    smoke_fraction = 0.9, 0.9, 0.6, 0.6, 0.6
	    tg_c3_thresh = 1
	    phen_ev2 = 0.925
	    cmc_eps = 0.01
	    alpha(0:4,6) = 0.0, 0.0, 0.012, 0.012, 0.012
	    treefall_disturbance_rate = 0.175, 0.185, 0.025, 0.0275, 0.027
	</namelist>
	 <namelist name="vegn_nml">
	    init_Tv = 288.0
	    rad_to_use = 'two-stream'
	    photosynthesis_to_use = 'leuning'
	    snow_rad_to_use = 'paint-leaves'
	    co2_to_use_for_photosynthesis ='interactive'
	    co2_for_photosynthesis = 286.0e-6
	    do_cohort_dynamics   = .TRUE.,
	    do_patch_disturbance = .TRUE.,
	    do_phenology         = .TRUE.,
	    do_biogeography      = .TRUE.,
	    do_seed_transport    = .TRUE.,
	    tau_smooth_ncm = 22.0
	</namelist>
	    <!-- pasted orig_input_transformed here and added the xipointer line in expt1 (I moved MOM_input_nml, SIS_input_nml, and coupler_nml to expt1 -->
    </input>
   </freInclude>

   <!--block below created by Kiera-->
   <freInclude name="OM_1deg_input"><!--originally I was using ice_ocean_SIS2/OM_1deg in place of coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg in the paths -->
    <input>
	<dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
		<dataSource platform="$(platform)">$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/MOM_input</dataSource>
	</dataFile>
	<dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
		<dataSource platform="$(platform)">$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/SIS_input</dataSource>
	</dataFile>
	<dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
		<dataSource platform="$(platform)">$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/data_table</dataSource>
	</dataFile>
	<dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
         	<dataSource platform="$(platform)">$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/field_table</dataSource>
	</dataFile>
	<dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
    <!-- <dataSource platform="$(platform)">$root/$(LIBS_ROOT)/diag_table_updated_tuning</dataSource> -->
    <dataSource platform="$(platform)">awg_include/diag_table/diag_table_updated_tuning</dataSource>
	 </dataFile>	
    </input>
   </freInclude>

  <experiment name="Kd_patch_tune_ctrl_1860IC_200yr" inherit="tuning_diff_exp_compile">
<description>
No added diffusivity.
</description>
    <input>
     <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
  <!--Replace with a tar files containing all the input files that contain res (restart) -->
       <dataSource site="ncrc">/gpfs/f5/gfdl_o/scratch/Kiera.Lowman/ESM2G_Control-1860_initcond_20101116.tar</dataSource>
     </dataFile>

     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF

     ]]></csh>

      <!-- if there is an issue, create tar files with *mosaic* topog,nc,... -->
      <!--dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_grid/c96_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
      </dataFile-->
      <!--Apr 30 tried changing filenames from 'MOM_input' to 'INPUT/MOM_input' --> 
      <namelist name="MOM_input_nml">
        output_directory = './',
         input_filename = 'F'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
	 parameter_filename = 'INPUT/MOM_input',
	                      'INPUT/MOM_override'
      </namelist>

      <namelist name="SIS_input_nml">
        output_directory = './',
         input_filename = 'F'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
	 parameter_filename = 'INPUT/SIS_input',
	                      'INPUT/SIS_override'
      </namelist>

      <namelist name="coupler_nml">
        months = 12,
        days   = 0,
        current_date = 1,1,1,0,0,0,
        calendar = 'NOLEAP',
        dt_cpld = 7200,
        dt_atmos = 1800,
        do_atmos = .true.,
        do_land = .true.,
        do_ice = .true.,
        do_ocean = .true.,
        atmos_npes = 30,
        ocean_npes = 90,
        concurrent = .true.
        use_lag_fluxes=.true.
      </namelist>

      <!-- Namelist -->
     <!--added by Kiera May 10 -->
      <namelist file="$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/input.nml"/>
	      <!-- <namelist file="$(MOM6_EXAMPLES)/coupled_AM2_LM3_SIS2/AM2_SIS2_MOM6i_1deg/static_input.nml"/>-->
       <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='AM2_LM3_MOM6i_1deg']/input/node())"/>
     <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
	     
<diagTable>
$name
$baseDate
</diagTable>
 
      <!--Common namelist -->
     <xi:include xpointer="xpointer(//freInclude[@name='AM2_MOM6_common']/input/node())"/>
	<xi:include xpointer="xpointer(//freInclude[@name='OM_1deg_input']/input/node())"/>
    </input>
    <postProcess>
      <csh><![CDATA[
         cd $work
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats* ocean.stats* extra.results/
         cp diag_table extra.results/.
         cp $scriptName extra.results/runscript.csh
         #When the ocean uses a mask_table the ocean_static.nc file produced by the model run has holes in coordinates (geolon,geolat)
         #This causes problems for ferret and python tools for analysis.
         #Copy a non-masked version of ocean_static.nc to be saved as a history file to be used by the analysis scipts .
	 cp $work/INPUT/ocean_static_no_mask_table.nc $work/
         #fix suggested by Raph for downsampled to 1x1
         foreach file ( `ls -1 | grep D2ocean` )
            ncatted -O -a associated_files,global,a,c,"areacello: ocean_static_d2.nc" $file
         end
	 #drop D2ocean_static.nc that was produced with the grid. The model cannot produce the correct file.
         cp $work/INPUT/ocean_static_d2.nc $work/D2ocean_static.nc
 
]]>   </csh>

	<refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
  <!-- $(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_atmos_cmip6.csh -->
	<xi:include href="awg_include/xml_building_blocks/om4_am2_tuning_postprocess.xml" xpointer="xpointer(//freInclude[@name='tuning_OM4_postprocess']/postProcess/node())"/>

  <!--      <xi:include href="awg_include/xml_building_blocks/am4c96_postprocess.xml" xpointer="xpointer(//freInclude[@name='c96_postprocess_ATMOS']/postProcess/node())"/>
      <xi:include href="awg_include/xml_building_blocks/am4c96_postprocess.xml" xpointer="xpointer(//freInclude[@name='c96_postprocess_LAND']/postProcess/node())"/>

	<xi:include href="awg_include/xml_building_blocks/atmos_cmip6_postprocess.xml" xpointer="xpointer(//freInclude[@name='postprocess_ATMOS_cmip6']/postProcess/node())"/>
  -->

    </postProcess>
    <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
	  <resources jobWallclock="16:00:00" segRuntime="1:30:00">
               <atm ranks="30" threads="1"     />
               <lnd                             />
               <ice                            />
               <ocn ranks="90" threads="1"    />
           </resources>
      </production>
      <regression name="basic">
        <run months="1"> 
     	     <resources jobWallclock="01:00:00">
	        <atm ranks="30" threads="1"     />
               <lnd                             />
               <ice                            />
               <ocn ranks="90" threads="1"    />
	     </resources>
	</run>
        <run days="15 16"> 
     	     <resources jobWallclock="01:00:00">
               <atm ranks="30" threads="1"     />
               <lnd                             />
               <ice                            />
               <ocn ranks="90" threads="1"    />
             </resources>
	</run>
      </regression>
      <regression name="timing">
        <run months="1"> 
     	     <resources jobWallclock="01:00:00">
	        <atm ranks="30" threads="1"     />
               <lnd                             />
               <ice                            />
               <ocn ranks="90" threads="1"    />
	     </resources>
	</run>
      </regression>
      <regression name="debug">
        <run days="2">  <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O2240']/node())"/> </run>
        <run days="1 1"><xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O2240']/node())"/> </run>
        <run days="2">  <xi:include href="awg_include/xml_building_blocks/layouts.xml" xpointer="xpointer(//freInclude[@name='resourceparams_A504x1_O504']/node())"/> </run>
      </regression>
    </runtime>
  </experiment>
  
<experiment name="Kd_patch_therm_10M_south" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for thermocline-enhanced profile.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-03
USER_KD_ADD_LAT_RANGE = -16,-16,-14,-14 
USER_KD_ADD_LON_RANGE = -122,-122,-120,-120
USER_KD_ADD_RHO_RANGE = 1035.24,1035.25,1036.49,1036.50
MOM_OVERRIDE_EOF
  
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

<experiment name="Kd_patch_surf_100munk_4deg_south" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for surface-enhanced profile.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-03
USER_KD_ADD_LAT_RANGE = -16,-16,-12,-12 
USER_KD_ADD_LON_RANGE = -122,-122,-118,-118
USER_KD_ADD_RHO_RANGE = 1022.00,1022.01,1035.24,1035.25
MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

<experiment name="Kd_patch_therm_100munk_4deg_south" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for thermocline-enhanced profile.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-02
USER_KD_ADD_LAT_RANGE = -16,-16,-12,-12 
USER_KD_ADD_LON_RANGE = -122,-122,-118,-118
USER_KD_ADD_RHO_RANGE = 1035.24,1035.25,1036.49,1036.50
MOM_OVERRIDE_EOF
  
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

<experiment name="Kd_patch_mid_10M_south" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for middepth-enhanced profile.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-03
USER_KD_ADD_LAT_RANGE = -16,-16,-12,-12 
USER_KD_ADD_LON_RANGE = -122,-122,-118,-118
USER_KD_ADD_RHO_RANGE = 1036.49,1036.50,1036.89,1036.90       
MOM_OVERRIDE_EOF
  
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

<experiment name="Kd_patch_bot_100munk_4deg_south" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for bottom-enhanced profile.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-03
USER_KD_ADD_LAT_RANGE = -16,-16,-12,-12
USER_KD_ADD_LON_RANGE = -122,-122,-118,-118       
USER_KD_ADD_RHO_RANGE = 1036.89,1036.90,1041.99,1042.00
MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

<experiment name="Kd_patch_therm_100munk_4deg_north" inherit="Kd_patch_tune_ctrl_1860IC_200yr">
<description>
	Added diffusivity patch experiment for thermocline-enhanced profile in northern hemisphere.
</description>
<input>
     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_OCMIP2_CFC=False
#override USE_IDEAL_AGE_TRACER=True
USER_CHANGE_DIFFUSIVITY=True
USER_KD_ADD=1.0E-02
USER_KD_ADD_LAT_RANGE = 16,16,20,20 
USER_KD_ADD_LON_RANGE = -162,-162,-158,-158
USER_KD_ADD_RHO_RANGE = 1035.24,1035.25,1036.49,1036.50
MOM_OVERRIDE_EOF
  
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
SIS_OVERRIDE_EOF
     ]]></csh>
</input>
</experiment>

</experimentSuite>
